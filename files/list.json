{"blocks":[{"type":"group","output":"let files = sig([])\nlet file_names = mem(() => files().map((file) => file.replace('.json', '')))\n\nfetch(\"/api/file\").then((res) => res.json()).then((res) => files.set(res.files))\n\nfunction open_file(title) {\n\tfetch(\"/api/file/\" + title)\n\t\t.then((res) => res.json())\n\t\t.then((res) => {\n\t\t\tlet content = res.content\n\t\t\tlocalStorage.setItem(\"session_name\", title)\n\t\t\tconsole.log(\"content\", content)\n\t\t\tif (typeof content == \"string\") {\n\t\t\t\tlocalStorage.setItem(title, content)\n\t\t\t\twindow.location.reload()\n\t\t\t}\n\t\t})\n}\n\n\nlet list = () => html`\n  each of ${file_names} as ${(file) => html`p [onclick=${() => open_file(file)}] -- ${file}`}\n`\n\nrender(list, document.body)","blocks":[{"id":"in2sf","type":"default","code":"","active":true,"focus":false,"focused":false,"output":"let files = sig([])\nlet file_names = mem(() => files().map((file) => file.replace('.json', '')))\n\nfetch(\"/api/file\").then((res) => res.json()).then((res) => files.set(res.files))\n\nfunction open_file(title) {\n\tfetch(\"/api/file/\" + title)\n\t\t.then((res) => res.json())\n\t\t.then((res) => {\n\t\t\tlet content = res.content\n\t\t\tlocalStorage.setItem(\"session_name\", title)\n\t\t\tconsole.log(\"content\", content)\n\t\t\tif (typeof content == \"string\") {\n\t\t\t\tlocalStorage.setItem(title, content)\n\t\t\t\twindow.location.reload()\n\t\t\t}\n\t\t})\n}\n\n\nlet list = () => html`\n  each of ${file_names} as ${(file) => html`p [onclick=${() => open_file(file)}] -- ${file}`}\n`\n\nrender(list, document.body)","cursor":616}],"fold":false}]}